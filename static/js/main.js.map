{"version":3,"sources":["../webpack/bootstrap","themes/index.ts","containers/about/index.tsx","services/hooks.tsx","containers/footer/stat-bar.tsx","containers/footer/stat-group.tsx","containers/footer/pet-info.tsx","containers/footer/index.tsx","util/hooks/useEventListener.tsx","util/hooks/useLocalStorage.tsx","services/store.tsx","containers/helpers/loader.tsx","util/hooks/useInterval.tsx","containers/helpers/pinger.tsx","containers/helpers/saver.tsx","containers/helpers/index.tsx","containers/main.tsx","containers/app.tsx","reportWebVitals.ts","index.tsx","services/ui/index.tsx","util/tools.tsx","services/petstore/index.tsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","this","oldJsonpFunction","slice","createGlobalStyle","getColor","colorId","store","colors","getShade","colId","percent","color","R","parseInt","substring","G","B","Math","round","toString","black","grey","grey_light","white","blue","green","yellow","red","purple","shadows","z1","z2","z3","breakpoints","mobile_tiny","mobile_medium","mobile_large","tablet","desktop","ScContainer","styled","div","ScLogo","h1","ScButton","button","About","useHistory","onClick","useAppDispatch","useDispatch","useAppSelector","useSelector","ScLabel","h4","ScBar","ScBarValue","span","ScBarFill","StatBar","label","max","toLocaleUpperCase","style","width","ScStats","StatGroup","activeStats","selectActivePetStats","map","idx","currentValue","ScPetInfo","ScBio","ScBioName","ScBioInfo","ScPetLabel","ScPetName","ScPetLevel","PetInfo","activePet","selectActivePet","level","info","ScTabs","ul","ScTab","li","props","isActive","css","Footer","petList","selectPetList","dispatch","setActiveIdx","useEventListener","eventName","handler","element","savedHandler","useRef","useEffect","targetElement","current","window","addEventListener","eventListener","removeEventListener","useLocalStorage","initialValue","readValue","item","localStorage","getItem","JSON","parse","log","parseJSON","warn","useState","storedValue","setStoredValue","handleStorageChange","newValue","Function","setItem","stringify","dispatchEvent","Event","configureStore","reducer","petStore","petStoreReducer","ui","uiReducer","defaultLocalStorageState","config","pets","Loader","loaded","setLoaded","appData","savedData","url","fetch","then","res","text","jsonc","json","forEach","petDef","savedStatus","find","id","setPet","petDefinition","initialState","setActiveId","stack","readIt","useInterval","callback","delay","savedCallback","useLayoutEffect","setInterval","clearInterval","Pinger","React","pinger","setPinger","pingStore","triggerSave","Saver","setAppData","savePayload","selectSavePayload","ScHeader","header","ScHelpButton","ScPetContainer","ScPetImage","ScSaveButton","ScResetButton","Main","clearSave","backgroundImage","image","App","path","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","uiSlice","createSlice","pingIdx","lastSaved","reducers","state","actions","selectPingIdx","number","pad","rounder","pow","getDeltaStats","stats","prevTime","nowTime","timeDiff","val","perSecond","min","petStoreSlice","activeIdx","ts","Date","getTime","savePl","pet","toSave","timestamp","global","clear","location","reload","action","petIdx","findIndex","payload","foundPet","updatedDef","pS","foundStat","iS","selectActiveIdx","selectPets","createSelector"],"mappings":"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","file":"static/js/main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({}[chunkId]||chunkId) + \".\" + {\"4\":\"f9b24604\"}[chunkId] + \".chunk.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tly-browserpet/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = this[\"webpackJsonptly-browserpet\"] = this[\"webpackJsonptly-browserpet\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([57,3]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { createGlobalStyle } from \"styled-components\"\r\n\r\nexport default createGlobalStyle`\r\n  *{\r\n    margin: 0;\r\n    padding: 0;\r\n    outline:0;\r\n    box-sizing:border-box;\r\n  }\r\n\r\n  /* prevent text selection */\r\n  * {\r\n    -webkit-touch-callout: none; /* iOS Safari */\r\n      -webkit-user-select: none; /* Safari */\r\n      -khtml-user-select: none; /* Konqueror HTML */\r\n        -moz-user-select: none; /* Firefox */\r\n          -ms-user-select: none; /* Internet Explorer/Edge */\r\n              user-select: none; /* Non-prefixed version, currently\r\n                                    supported by Chrome and Opera */\r\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n  \r\n  #root{\r\n    margin:0 auto;\r\n  }\r\n  h1, h2, h3, h4{\r\n    font-family: 'Bevan', cursive;\r\n  }\r\n  a, p, span, h5, h6{\r\n    font-family: 'Cabin', sans-serif;\r\n  }\r\n  h1{\r\n    font-size: 5rem;\r\n  }\r\n  h2{\r\n    font-size: 4rem;\r\n  }\r\n  h3{\r\n    font-size: 3.5rem;\r\n  }\r\n  h4{\r\n    font-size: 2.5rem;\r\n  }\r\n  h5{\r\n    font-size: 2rem;\r\n  }\r\n  p, span{\r\n    font-size:1.5rem;\r\n    line-height: 1.5rem;\r\n  }\r\n\r\n  html{\r\n    font-size: 62.5%;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    font-family: 'Cabin', sans-serif;\r\n    background-color: black;\r\n    color: white;\r\n  }\r\n  \r\n  code {\r\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n  }\r\n`\r\n\r\n/*\r\nexport const mixinFontFamily = (style) => {\r\n  switch(style){\r\n    case 'details' : return css`font-family: 'Roboto', sans-serif`;\r\n    case 'display': return css`font-family: 'Bevan', cursive`;\r\n    default: return css`font-family: 'Roboto', sans-serif`;\r\n  }\r\n}\r\n*/\r\nexport const listColors = () => {\r\n  return Object.keys(store.colors);\r\n}\r\n\r\n\r\nexport const getColor = (colorId: tColor) => {\r\n  return store.colors[colorId] as CssString; \r\n}\r\n\r\nexport const getShadow = (shadowId: tShadow) => {\r\n  return store.shadows[shadowId] as CssString;\r\n}\r\n\r\nexport const getBreakpoint = (breakpointId: tBreakpoint) => {\r\n  return store.breakpoints[breakpointId] as CssString;\r\n}\r\n\r\n/* from pablo on https://stackoverflow.com/questions/5560248/programmatically-lighten-or-darken-a-hex-color-or-rgb-and-blend-colors */\r\nexport const getShade = (colId: tColor, percent: number) => {\r\n  const color = colors[colId] || colId;\r\n\r\n  let R = parseInt(color.substring(1,3),16);\r\n  let G = parseInt(color.substring(3,5),16);\r\n  let B = parseInt(color.substring(5,7),16);\r\n\r\n  R = Math.round(R * (100 + percent) / 100);\r\n  G = Math.round(G * (100 + percent) / 100);\r\n  B = Math.round(B * (100 + percent) / 100);\r\n\r\n  R = (R<255)?R:255;  \r\n  G = (G<255)?G:255;  \r\n  B = (B<255)?B:255;  \r\n\r\n  const RR = ((R.toString(16).length===1)?\"0\"+R.toString(16):R.toString(16));\r\n  const GG = ((G.toString(16).length===1)?\"0\"+G.toString(16):G.toString(16));\r\n  const BB = ((B.toString(16).length===1)?\"0\"+B.toString(16):B.toString(16));\r\n\r\n  return \"#\"+RR+GG+BB;\r\n}\r\n\r\ntype CssString = string;\r\n\r\ntype tShadow = 'z1' | 'z2' | 'z3';\r\nconst shadows = {\r\n  z1: '-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.16)',\r\n  z2: '-0.1rem 0.1rem .25rem .1rem rgba(0,0,0,0.36)',\r\n  z3: '-.2rem .5rem 1rem .2rem rgba(0,0,0,.36)'\r\n}\r\ntype tColor = 'black' | 'grey' | 'grey_light' | 'white' | 'blue' | 'green' | 'yellow' | 'red' | 'purple';\r\nconst colors = {\r\n  black: '#000000',\r\n  grey: '#373737',\r\n  grey_light: '#A39F8E',\r\n  white: '#fef8dd',\r\n  blue: '#1fb9f3',\r\n  green: '#51f249',\r\n  yellow: '#fff249',\r\n  red: '#F55658',\r\n  purple: '#6b1ff3'\r\n}\r\n\r\ntype tBreakpoint = 'mobile_tiny' | 'mobile_medium' | 'mobile_large' | 'tablet' | 'desktop';\r\nconst breakpoints = {\r\n  mobile_tiny: '300px',\r\n  mobile_medium: '400px',\r\n  mobile_large: '500px',\r\n  tablet: '768px',\r\n  desktop: '1024px'\r\n}\r\n\r\ntype ThemeStore = {\r\n  colors: typeof colors,\r\n  shadows: typeof shadows,\r\n  breakpoints: typeof breakpoints\r\n}\r\n\r\nexport const store: ThemeStore = {\r\n  colors: colors,\r\n  shadows: shadows,\r\n  breakpoints: breakpoints\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getColor } from '../../themes/';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst ScContainer = styled.div`\r\n  padding:1rem;\r\n  color: ${getColor('blue')};\r\n  min-width:30rem;\r\n`;\r\n\r\nconst ScLogo = styled.h1`\r\n  font-size:2rem;\r\n  text-align:left;\r\n`;\r\n\r\nconst ScButton = styled.button`\r\n  border:0;\r\n  margin:0;\r\n  font-size:2rem;\r\n  padding:.5rem 1rem;\r\n  background-color: ${getColor('green')};\r\n  border: .5rem solid ${getColor('white')};\r\n  border-radius: 1rem;\r\n\r\n  margin-top:2rem;\r\n  text-align:center;\r\n  cursor:pointer;\r\n`\r\n\r\nexport const About = () => {\r\n  let { push } = useHistory();\r\n\r\n  return (\r\n    <ScContainer>\r\n      <ScLogo>{'About BrowserPet'}</ScLogo>\r\n      <p>{'© Tom Yancey 2022'}</p>\r\n      <ScButton onClick={() => {push('/')}}>\r\n        {'BACK'}\r\n      </ScButton>\r\n    </ScContainer>\r\n  )\r\n}\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect, useLayoutEffect, useRef } from 'react'\r\n\r\nimport type { RootState, AppDispatch } from './store';\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import React from 'react';\r\nimport { getColor } from '../../themes/';\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport { getShade } from '../../themes';\r\nimport { round } from '../../util/tools';\r\n\r\nconst ScContainer = styled.div`\r\n  display:inline-block;\r\n  width:calc(50% - 1rem);\r\n  margin-right:1rem;\r\n`;\r\n\r\nconst ScLabel = styled.h4`\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst ScBar = styled.div`\r\n  position:relative;\r\n  border:.5rem solid ${getColor('white')};\r\n  border-radius: 1rem;\r\n  overflow:hidden;\r\n  padding:.25rem .5rem;\r\n  text-align:center;\r\n  background-color: ${getColor('white')};\r\n\r\n  box-shadow: 0px -2px 4px ${getShade('white', -40)};\r\n`;\r\n\r\nconst ScBarValue = styled.span`\r\n  position: relative;\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  z-index:1;\r\n`;\r\n\r\nconst ScBarFill = styled.div`\r\n  position:absolute;\r\n  top:0;\r\n  left:0;\r\n  height:100%; \r\n  transition: width .3s ease-in-out, background-color .5s ease-in-out;\r\n  background-color: ${getColor('blue')};\r\n`;\r\n\r\ntype StatBarProps = {\r\n  label: string,\r\n  max: number,\r\n  value: number\r\n};\r\n\r\nexport const StatBar = ({label, max, value}: StatBarProps) => {\r\n  const percent = Math.round((value / max) * 1000) / 10;\r\n\r\n  return (\r\n    <ScContainer>\r\n      <ScLabel>{label.toLocaleUpperCase()}</ScLabel>\r\n      <ScBar>\r\n        <ScBarValue>{`${round(value)} / ${max}`}</ScBarValue>\r\n        <ScBarFill style={{width:`${percent}%`}} />\r\n      </ScBar>\r\n    </ScContainer>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { StatBar } from './stat-bar';\r\nimport { useAppSelector } from '../../services/hooks';\r\nimport { selectActivePetStats } from '../../services/petstore';\r\n\r\nconst ScStats = styled.div`\r\n  width:100%;\r\n`;\r\n\r\nexport const StatGroup = () => {\r\n  const activeStats = useAppSelector(selectActivePetStats);\r\n\r\n  return (\r\n    <ScStats>\r\n      {activeStats.map((s, idx) => (\r\n        <StatBar \r\n          key={idx}\r\n          label={s.label}\r\n          max={s.max}\r\n          value={s.currentValue}\r\n        />\r\n      ))}\r\n    </ScStats>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { getColor } from '../../themes/';\r\n\r\nimport styled from 'styled-components';\r\nimport { StatGroup } from './stat-group';\r\nimport { useAppSelector } from '../../services/hooks';\r\nimport { selectActivePet } from '../../services/petstore';\r\n\r\nconst ScPetInfo = styled.div`\r\n  width:100%;\r\n  height:16rem;\r\n\r\n  font-size: 1.5rem;\r\n  line-height: 1.5rem;\r\n  padding: 0.25rem .5rem .5rem .5rem;\r\n  font-weight:500;\r\n  \r\n  background-color:${getColor('green')};\r\n  color: black;\r\n  \r\n  border:.5rem solid ${getColor('white')};\r\n  border-radius:1rem;\r\n\r\n  overflow-y:auto;\r\n\r\n  hr{\r\n    border-color:${getColor('blue')};\r\n    border-style:dashed;\r\n    margin-top:.5rem;\r\n    margin-bottom:.5rem;\r\n\r\n    margin-left:10%;\r\n    width:80%;\r\n  }\r\n\r\n`\r\n\r\nconst ScBio = styled.div`\r\n  width:100%;\r\n`;\r\n\r\nconst ScBioName = styled.h4`\r\n  margin-top:1rem;\r\n  margin-bottom:.5rem;\r\n`;\r\n\r\nconst ScBioInfo = styled.p`\r\n  margin-top:1rem;\r\n  padding-left:1rem;\r\n`;\r\n\r\nconst ScPetLabel = styled.div`\r\n  color: ${getColor('black')};\r\n  width:100%;\r\n  display:flex;\r\n  flex-direction: row;\r\n\r\n  h4{\r\n    margin-top:1rem;\r\n    margin-bottom:.5rem;\r\n  }\r\n`;\r\n\r\nconst ScPetName = styled.h4`\r\n  text-align:left;\r\n  display:inline-block;\r\n  flex:1;\r\n`;\r\n\r\nconst ScPetLevel = styled.div`\r\n  text-align:right;\r\n  color: ${getColor('black')};\r\n`;\r\n\r\nexport const PetInfo = () => {\r\n  const activePet = useAppSelector(selectActivePet) || {};\r\n\r\n  return (\r\n    <ScPetInfo>\r\n      <ScPetLabel>\r\n        <ScPetName>{activePet.name}</ScPetName>\r\n        <ScPetLevel><h4>{`L-${activePet.level}`}</h4></ScPetLevel>\r\n      </ScPetLabel>\r\n      <hr/>\r\n      <StatGroup />\r\n      <hr/>\r\n      <ScBio>\r\n        <ScBioName>{'Description'}</ScBioName>\r\n        <ScBioInfo>{activePet.info}</ScBioInfo>\r\n      </ScBio>\r\n    </ScPetInfo>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { getColor, getShade } from '../../themes/';\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport { useAppDispatch, useAppSelector } from '../../services/hooks';\r\n\r\nimport { \r\n  selectPetList, \r\n  setActiveIdx \r\n} from '../../services/petstore';\r\nimport { PetInfo } from './pet-info';\r\n\r\nconst ScContainer = styled.div`\r\n  margin-top: -1rem;\r\n  position:relative;\r\n`;\r\n\r\nconst ScTabs = styled.ul`\r\n  width:100%;\r\n  margin-bottom:-.5rem;\r\n  padding-left:1rem;\r\n  position:absolute;\r\n  left:0;\r\n  bottom:100%;\r\n`;\r\n\r\ntype ScTabProps = {\r\n  isActive?: boolean\r\n};\r\n\r\nconst ScTab = styled.li<ScTabProps>`\r\n  list-style:none;\r\n  margin:none;\r\n  \r\n  display:inline-block;\r\n  vertical-align:bottom;\r\n  background-color:white;\r\n  color: black;\r\n\r\n  font-size:2rem;\r\n  line-height:2rem;\r\n  font-weight:bold;\r\n  padding: .25rem 1rem;\r\n  padding-bottom: 0rem;\r\n  margin-right:.25rem;\r\n\r\n  border:.5rem solid ${getColor('white')};\r\n  border-radius:1rem 1rem 0 0;\r\n\r\n  background-color:${getColor('blue')};\r\n  border-bottom-color: ${getColor('white')};\r\n  color:${getColor('black')};\r\n  transition: padding-bottom .1s ease-in-out, background-color .1s ease-in-out;\r\n\r\n  &:hover{\r\n    background-color:${getShade('blue', 20)};\r\n  }\r\n  \r\n  ${props => props.isActive && css`\r\n    background-color:${getColor('green')};\r\n    padding-bottom: .75rem;\r\n    padding-top: .5rem;\r\n    transition: padding .2s ease-out, background-color .2s ease-out;\r\n\r\n    &:hover{\r\n      background-color:${getShade('green', 40)};\r\n    }\r\n  `};\r\n\r\n  cursor:pointer;\r\n`\r\n\r\nexport const Footer = () => {\r\n  const petList = useAppSelector(selectPetList);\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <ScContainer>\r\n      <ScTabs>\r\n        {petList.map((p, idx) => (\r\n          <ScTab \r\n            key={idx} \r\n            onClick={() => dispatch(setActiveIdx(idx))} \r\n            isActive={p.isActive}\r\n          >\r\n            {idx + 1}\r\n          </ScTab>\r\n        ))}\r\n      </ScTabs>\r\n      <PetInfo/>\r\n    </ScContainer>\r\n  )\r\n}\r\n","import { RefObject, useEffect, useRef } from 'react'\r\n\r\nfunction useEventListener<K extends keyof WindowEventMap>(\r\n  eventName: K,\r\n  handler: (event: WindowEventMap[K]) => void,\r\n): void\r\nfunction useEventListener<\r\n  K extends keyof HTMLElementEventMap,\r\n  T extends HTMLElement = HTMLDivElement,\r\n>(\r\n  eventName: K,\r\n  handler: (event: HTMLElementEventMap[K]) => void,\r\n  element: RefObject<T>,\r\n): void\r\n\r\nfunction useEventListener<\r\n  KW extends keyof WindowEventMap,\r\n  KH extends keyof HTMLElementEventMap,\r\n  T extends HTMLElement | void = void,\r\n>(\r\n  eventName: KW | KH,\r\n  handler: (\r\n    event: WindowEventMap[KW] | HTMLElementEventMap[KH] | Event,\r\n  ) => void,\r\n  element?: RefObject<T>,\r\n) {\r\n  // Create a ref that stores handler\r\n  const savedHandler = useRef<typeof handler>()\r\n\r\n  useEffect(() => {\r\n    // Define the listening target\r\n    // TLY: couldn't figure out how to get the T to not have a compile issue with 'addEventListener'\r\n    // const targetElement: T | Window = element?.current || window\r\n    const targetElement: any = element?.current || window\r\n    if (!(targetElement && targetElement.addEventListener)) {\r\n      return\r\n    }\r\n\r\n    // Update saved handler if necessary\r\n    if (savedHandler.current !== handler) {\r\n      savedHandler.current = handler\r\n    }\r\n\r\n    // Create event listener that calls handler function stored in ref\r\n    const eventListener: typeof handler = event => {\r\n      // eslint-disable-next-line no-extra-boolean-cast\r\n      if (!!savedHandler?.current) {\r\n        savedHandler.current(event)\r\n      }\r\n    }\r\n\r\n    targetElement.addEventListener(eventName, eventListener)\r\n\r\n    // Remove event listener on cleanup\r\n    return () => {\r\n      targetElement.removeEventListener(eventName, eventListener)\r\n    }\r\n  }, [eventName, element, handler])\r\n}\r\n\r\nexport default useEventListener","// https://usehooks-ts.com/react-hook/use-local-storage\r\nimport { Dispatch, SetStateAction, useEffect, useState } from 'react'\r\n\r\n// See: https://usehooks-ts.com/react-hook/use-event-listener\r\nimport useEventListener from './useEventListener'\r\n\r\ndeclare global {\r\n  interface WindowEventMap {\r\n    'local-storage': CustomEvent\r\n  }\r\n}\r\n\r\ntype SetValue<T> = Dispatch<SetStateAction<T>>\r\n\r\nfunction useLocalStorage<T>(key: string, initialValue: T): [T, SetValue<T>] {\r\n  // Get from local storage then\r\n  // parse stored json or return initialValue\r\n  const readValue = (): T => {\r\n    // Prevent build error \"window is undefined\" but keep keep working\r\n    if (typeof window === 'undefined') {\r\n      return initialValue\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key)\r\n      return item ? (parseJSON(item) as T) : initialValue\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key “${key}”:`, error)\r\n      return initialValue\r\n    }\r\n  }\r\n\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState<T>(readValue)\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue: SetValue<T> = value => {\r\n    // Prevent build error \"window is undefined\" but keeps working\r\n    if (typeof window == 'undefined') {\r\n      console.warn(\r\n        `Tried setting localStorage key “${key}” even though environment is not a client`,\r\n      )\r\n    }\r\n\r\n    try {\r\n      // Allow value to be a function so we have the same API as useState\r\n      const newValue = value instanceof Function ? value(storedValue) : value\r\n\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(newValue))\r\n\r\n      // Save state\r\n      setStoredValue(newValue)\r\n\r\n      // We dispatch a custom event so every useLocalStorage hook are notified\r\n      window.dispatchEvent(new Event('local-storage'))\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key “${key}”:`, error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue())\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const handleStorageChange = () => {\r\n    setStoredValue(readValue())\r\n  }\r\n\r\n  // this only works for other documents, not the current one\r\n  useEventListener('storage', handleStorageChange)\r\n\r\n  // this is a custom event, triggered in writeValueToLocalStorage\r\n  // See: useLocalStorage()\r\n  useEventListener('local-storage', handleStorageChange)\r\n\r\n  return [storedValue, setValue]\r\n}\r\n\r\nexport default useLocalStorage\r\n\r\n// A wrapper for \"JSON.parse()\"\" to support \"undefined\" value\r\nfunction parseJSON<T>(value: string | null): T | undefined {\r\n  try {\r\n    return value === 'undefined' ? undefined : JSON.parse(value ?? '')\r\n  } catch (error) {\r\n    console.log('parsing error on', { value })\r\n    return undefined\r\n  }\r\n}\r\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\r\nimport { LocalStorageState } from '../types';\r\nimport petStoreReducer from './petstore';\r\nimport uiReducer from './ui';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    petStore: petStoreReducer,\r\n    ui: uiReducer\r\n  },\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  RootState,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n\r\nexport const defaultLocalStorageState: LocalStorageState = {\r\n  config:{},\r\n  pets:[]\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { jsonc } from 'jsonc';\r\n\r\nimport { LocalStorageState, PetDefinition } from '../../types';\r\nimport useLocalStorage from '../../util/hooks/useLocalStorage';\r\nimport { useAppDispatch } from '../../services/hooks';\r\nimport { setPet, setActiveId } from '../../services/petstore';\r\nimport { defaultLocalStorageState } from '../../services/store';\r\n\r\nconst readIt = (dispatch:any, savedData: LocalStorageState) => {\r\n  const url =  `assets/data.jsonc`;\r\n\r\n  fetch(url, {\r\n    mode: 'cors'\r\n  })\r\n    .then(res => res.text())\r\n    .then(\r\n      text => jsonc.parse(text), \r\n      err => {\r\n        console.error(`Error fretching item from ${url}`, err);\r\n      }\r\n    ) //- bad url responds with 200/ok? so this doesnt get thrown\r\n    .then(\r\n      json => {\r\n        console.log(`data was read successfully`, json);\r\n        console.log(`saved data was read successfully`, savedData);\r\n        json.forEach((petDef: PetDefinition) => {\r\n          const savedStatus = savedData?.pets.find(p => p.id === petDef.id) || null;\r\n          dispatch(setPet({\r\n            petDefinition: petDef,\r\n            initialState: savedStatus\r\n          }));\r\n        });\r\n\r\n        if(savedData.config.activePet){\r\n          dispatch(setActiveId(savedData.config.activePet));\r\n        }\r\n\r\n        return true;\r\n      }, \r\n      err => {\r\n        console.error(`Error parsing (the url (${url}) was bad), skipping`, err?.stack || err);\r\n      }\r\n    );\r\n}\r\n\r\nexport const Loader = () => {\r\n  const dispatch = useAppDispatch();\r\n  const [ loaded, setLoaded ] = useState(false);\r\n  const [ appData, ] = useLocalStorage('browserpet', defaultLocalStorageState);\r\n\r\n  useEffect(() => {\r\n    if(!loaded){\r\n      setLoaded(true);\r\n      readIt(dispatch, appData);\r\n    }\r\n  }, [ loaded, appData, setLoaded ]);\r\n\r\n  return (null);\r\n}\r\n","import { useEffect, useLayoutEffect, useRef } from 'react'\r\n\r\nfunction useInterval(callback: () => void, delay: number | null) {\r\n  const savedCallback = useRef(callback)\r\n\r\n  // Remember the latest callback if it changes.\r\n  useLayoutEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    // Don't schedule if no delay is specified.\r\n    // Note: 0 is a valid value for delay.\r\n    if (!delay && delay !== 0) {\r\n      return\r\n    }\r\n\r\n    const id = setInterval(() => savedCallback.current(), delay)\r\n\r\n    return () => clearInterval(id)\r\n  }, [delay])\r\n}\r\n\r\nexport default useInterval\r\n","import React from 'react';\r\n\r\nimport useInterval from '../../util/hooks/useInterval';\r\nimport { pingStore } from '../../services/ui';\r\nimport { useAppDispatch } from '../../services/hooks';\r\nimport { triggerSave } from '../../services/petstore';\r\n\r\nconst PING_RATE = 1000;\r\nconst SAVE_RATE = 5000;\r\n\r\nexport const Pinger = () => {\r\n  const [pinger, setPinger] = React.useState(0);\r\n  const dispatch = useAppDispatch();\r\n\r\n  useInterval(() => {\r\n    setPinger(pinger + 1);\r\n    dispatch(pingStore());\r\n\r\n    if((((pinger + 1) * PING_RATE) % SAVE_RATE) === 0){\r\n      dispatch(triggerSave()); // TODO: this double dispatch may be an antipattern\r\n    }\r\n  }, PING_RATE);\r\n\r\n  return null;\r\n}\r\n","import { useEffect } from 'react';\r\n\r\nimport useLocalStorage from '../../util/hooks/useLocalStorage';\r\nimport { useAppSelector } from '../../services/hooks';\r\nimport { selectSavePayload } from '../../services/petstore';\r\nimport { defaultLocalStorageState } from '../../services/store';\r\n\r\nexport const Saver = () => {\r\n  const [ _, setAppData ] = useLocalStorage('browserpet', defaultLocalStorageState);\r\n  const savePayload = useAppSelector(selectSavePayload);\r\n\r\n  useEffect(() => {\r\n    // this check avoids trying to save the initialState on first load, maybe there's a better way around this.\r\n    if(!!savePayload.config.activePet){\r\n      console.log('(saving)', savePayload);\r\n      setAppData(() => savePayload);\r\n    }\r\n  }, [ savePayload ])\r\n\r\n\r\n  return null;\r\n}\r\n","import React from 'react';\r\nimport { Loader } from './loader';\r\nimport { Pinger } from './pinger';\r\nimport { Saver } from './saver';\r\n\r\n\r\nexport default () => {\r\n  return (\r\n    <>\r\n      <Saver />\r\n      <Loader />\r\n      <Pinger />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nimport { getColor, getShade } from '../themes/';\r\nimport { useAppDispatch, useAppSelector } from '../services/hooks';\r\nimport { selectActivePet } from '../services/petstore';\r\nimport { triggerSave, clearSave } from '../services/petstore';\r\n\r\nimport { Footer } from './footer';\r\nimport Helpers from './helpers';\r\n\r\nconst ScHeader = styled.header`\r\n  position: relative;  \r\n`;\r\n\r\nconst ScContainer = styled.div`\r\n  padding:1rem;\r\n  color: ${getColor('blue')};\r\n  min-width:30rem;\r\n`;\r\n\r\nconst ScHelpButton = styled.div`\r\n  position:absolute;\r\n  right:0rem;\r\n  bottom:-.5rem;\r\n  width:3rem;\r\n  height:3rem;\r\n\r\n  border-radius:2rem 2rem 0 0;\r\n  background-color: ${getColor('blue')};\r\n  color: ${getColor('white')};\r\n\r\n  font-size:1.5rem;\r\n  font-weight:bold;\r\n  text-align:center;\r\n  line-height:2rem;\r\n  text-shadow: 1px 1px 1px ${getColor('black')};\r\n  border: .5rem solid ${getColor('white')};\r\n\r\n  cursor:pointer;\r\n  &:hover{\r\n    background-color: ${getShade('blue', 20)};\r\n  }\r\n`;\r\n\r\nconst ScLogo = styled.h1`\r\n  font-size:2rem;\r\n  text-align:left;\r\n`;\r\n\r\nconst ScPetContainer = styled.div`\r\n  background-color: ${getColor('blue')};\r\n  border:.5rem solid ${getColor('white')};\r\n  border-radius:1rem 0 0 0;\r\n  width: 100%;\r\n  height: 30rem;\r\n\r\n  padding-bottom: 1rem;\r\n`;\r\n\r\nconst ScPetImage = styled.div`\r\n  background-size:contain;\r\n  background-repeat:no-repeat;\r\n  background-position:center;\r\n  width:100%;\r\n  height:100%;\r\n  text-align:center;\r\n`;\r\n\r\nconst ScSaveButton = styled.button`\r\n  position: absolute;\r\n  right: 1.5rem;\r\n\r\n  background-color: ${getColor('blue')};\r\n  border:.5rem solid ${getColor('white')};\r\n  border-radius:2rem 0 0 0;\r\n\r\n  padding: 0.5rem 2rem 0rem;\r\n  bottom: -0.5rem;\r\n\r\n  color: ${getColor('white')};\r\n  text-shadow: 1px 1px 1px ${getColor('black')};\r\n\r\n  font-size:1.5rem;\r\n  line-height:2rem;\r\n  font-weight:bold;\r\n  cursor: pointer;\r\n  &:hover{\r\n    background-color: ${getShade('blue', 20)};\r\n  }\r\n`\r\n\r\nconst ScResetButton = styled.button`\r\n  position: absolute;\r\n  right: 12.5rem;\r\n\r\n  background-color: ${getColor('red')};\r\n  border:.5rem solid ${getColor('white')};\r\n  border-radius:2rem 0 0 0;\r\n\r\n  padding: 0.5rem 2rem 0rem;\r\n  bottom: -0.5rem;\r\n\r\n  color: ${getColor('white')};\r\n  text-shadow: 1px 1px 1px ${getColor('black')};\r\n\r\n  font-size:1.5rem;\r\n  line-height:2rem;\r\n  font-weight:bold;\r\n  cursor: pointer;\r\n  &:hover{\r\n    background-color: ${getShade('red', 40)};\r\n  }\r\n`\r\n\r\nexport const Main = () => {\r\n  let { push } = useHistory();\r\n  const activePet = useAppSelector(selectActivePet) || {};\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <ScContainer>\r\n      <ScHeader>\r\n        <Helpers />\r\n        <ScLogo>{'Browser Pet'}</ScLogo>\r\n        <ScResetButton onClick={() => {dispatch(clearSave())}}>\r\n          <p>{'CLEAR SAVE'}</p>\r\n        </ScResetButton>\r\n        <ScSaveButton onClick={() => {dispatch(triggerSave())}}>\r\n          <p>{'FORCE SAVE'}</p>\r\n        </ScSaveButton>\r\n        <ScHelpButton onClick={() => {push('/about')}}>\r\n          {'?'}\r\n        </ScHelpButton>\r\n      </ScHeader>\r\n      <ScPetContainer>\r\n        <ScPetImage style={{ backgroundImage: `url(${activePet.image})` }}/>\r\n      </ScPetContainer>\r\n      <Footer />\r\n    </ScContainer>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { About } from './about';\r\nimport { Main } from './main';\r\n\r\nexport const App = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/about\">\r\n        <About />\r\n      </Route>\r\n      <Route path=\"/\">\r\n        <Main />\r\n      </Route>\r\n    </Switch>\r\n  )\r\n};\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { App } from './containers/app';\r\nimport { store } from './services/store';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './themes/fonts.css';\r\nimport GlobalStyle from './themes/';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n        <GlobalStyle />\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// slightly evolving from create-react-app example\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../store';\r\n\r\nexport type UiSlice = {\r\n  pingIdx: number,\r\n  lastSaved: number,\r\n}\r\n\r\nconst initialState: UiSlice = {\r\n  pingIdx: 0,\r\n  lastSaved: -1\r\n};\r\n\r\nexport const uiSlice = createSlice({\r\n  name: 'ui',\r\n  initialState,\r\n  reducers: {\r\n    pingStore: (state: UiSlice) => {\r\n      state.pingIdx++;\r\n    },\r\n  }\r\n});\r\n\r\nexport const { pingStore } = uiSlice.actions;\r\n\r\nexport const selectPingIdx = (state: RootState): number => {\r\n  return state.ui.pingIdx;\r\n};\r\nexport const selectLastSaved = (state: RootState): number => {\r\n  return state.ui.lastSaved;\r\n};\r\n\r\nexport default uiSlice.reducer;\r\n","import { PetStatDefinition } from '../types';\r\n\r\n// general\r\nexport const round = (number:number, pad?:number) => {\r\n  if(!pad) return Math.round(number);\r\n  \r\n  const rounder = Math.pow(10, pad);\r\n  return Math.round(number * rounder) / rounder;\r\n}\r\n\r\nexport const clamp = (val:number, min:number, max:number) => {\r\n  return Math.min(Math.max(val, min), max);\r\n}\r\n\r\nexport const randBetween = (range:number[]) => {\r\n  return range[0] + (Math.random() * (range[1] - range[0]));\r\n}\r\n\r\n\r\n\r\n// app specific\r\nexport const getDeltaStats = (stats: PetStatDefinition[], prevTime: number, nowTime: number) =>{\r\n  const timeDiff = (nowTime - prevTime) / 1000;\r\n\r\n  return stats.map(s => {\r\n    return {\r\n      ...s,\r\n      currentValue: Math.round(clamp(s.value + (s.perSecond * timeDiff), 0, s.max)),\r\n    }\r\n  });\r\n}","// slightly evolving from create-react-app example\r\nimport { createSelector, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { PetDefinition, SavedPetState, LocalStorageState } from '../../types';\r\nimport { getDeltaStats } from '../../util/tools';\r\n\r\nimport { RootState } from '../store';\r\nimport { selectPingIdx } from '../ui';\r\n\r\nexport type PetStoreState = {\r\n  activeIdx: number,\r\n  pets: PetDefinition[],\r\n  lastSaved: number,\r\n  savePayload: LocalStorageState\r\n}\r\n\r\nexport type SetPetPayload = {\r\n  petDefinition: PetDefinition,\r\n  initialState?: SavedPetState\r\n}\r\n\r\nconst initialState: PetStoreState = {\r\n  activeIdx: 0,\r\n  pets: [],\r\n  lastSaved: 0,\r\n  savePayload: {\r\n    config:{\r\n      activePet: ''\r\n    },\r\n    pets:[]\r\n  }\r\n};\r\n\r\nexport const petStoreSlice = createSlice({\r\n  name: 'petStore',\r\n  initialState,\r\n  reducers: {\r\n    triggerSave: (state: PetStoreState) => {\r\n      const ts = new Date().getTime();\r\n\r\n      const savePl: LocalStorageState = {\r\n        config:{\r\n          activePet: state.pets[state.activeIdx]?.id || ''\r\n        },\r\n        pets:[]\r\n      };\r\n\r\n      state.pets.forEach(pet => {\r\n        const curStats = getDeltaStats(pet.stats, pet.timestamp, ts);\r\n  \r\n        const toSave = curStats.map(s => ({\r\n          id: s.id,\r\n          value: s.currentValue\r\n        }));\r\n\r\n        savePl.pets.push({\r\n          id: pet.id,\r\n          stats: toSave,\r\n          lastSaved: ts\r\n        });\r\n      });\r\n\r\n      state.lastSaved = ts;\r\n      state.savePayload = savePl;\r\n    },\r\n    clearSave: () => {\r\n      // TODO, this should be handled differently, or taken out of redux otherwise\r\n      (global as any).localStorage.clear();\r\n      (global as any).location.reload();\r\n    },\r\n    setActiveId: (state: PetStoreState, action: PayloadAction<any>) => {\r\n      const petIdx = state.pets.findIndex((p:PetDefinition) => p.id === action.payload);\r\n      if(petIdx === -1){\r\n        throw `Cannot find pet with id \"${action.payload}\"`;\r\n      }\r\n      state.activeIdx = petIdx;\r\n    },\r\n    setActiveIdx: (state: PetStoreState, action: PayloadAction<any>) => {\r\n      state.activeIdx = action.payload;\r\n    },\r\n    setPet: (state: PetStoreState, action: PayloadAction<any>) => {\r\n      const { petDefinition, initialState } = action.payload as SetPetPayload;\r\n      const foundPet = state.pets.find(p => p.id === petDefinition.id);\r\n      const nowTime = new Date().getTime();\r\n\r\n      const updatedDef = {\r\n        ...petDefinition,\r\n        stats: petDefinition.stats.map(pS => {\r\n          const foundStat = initialState?.stats.find(iS => iS.id === pS.id);\r\n          if(foundStat){\r\n            return {\r\n              ...pS,\r\n              value: foundStat.value\r\n            }\r\n          }else{\r\n            return pS\r\n          }\r\n        }),\r\n        timestamp: nowTime\r\n      }\r\n\r\n      if(foundPet){\r\n        state.pets = state.pets.map(p => {\r\n          if(p.id === petDefinition.id){\r\n            return updatedDef;\r\n          }else{\r\n            return p;\r\n          }\r\n        });\r\n      }else{\r\n        state.pets.push(updatedDef);\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nexport const { setPet, setActiveIdx, setActiveId, triggerSave, clearSave } = petStoreSlice.actions;\r\n\r\nexport const selectActiveIdx = (state: RootState): number => {\r\n  return state.petStore.activeIdx;\r\n};\r\n\r\nexport const selectPets = (state: RootState): PetDefinition[] => {\r\n  return state.petStore.pets;\r\n};\r\n\r\nexport const selectLastSaved = (state: RootState): number => {\r\n  return state.petStore.lastSaved;\r\n};\r\n\r\nexport const selectSavePayload = (state: RootState): LocalStorageState => {\r\n  return state.petStore.savePayload;\r\n};\r\n\r\nexport const selectActivePet = createSelector(\r\n  [selectPets, selectActiveIdx],\r\n  (pets, activeIdx) => {\r\n    return pets[activeIdx];\r\n  }\r\n);\r\n\r\nexport const selectActivePetStats = createSelector(\r\n  [selectActivePet, selectPingIdx], \r\n  (activePet, pingIdx) => {\r\n    // TODO: all the delta stat stuff\r\n    if(!activePet || !activePet.stats) return [];\r\n\r\n    return getDeltaStats(activePet.stats, activePet.timestamp, new Date().getTime());\r\n  }\r\n);\r\n\r\nexport const selectPetList = createSelector(\r\n  [selectPets, selectActiveIdx],\r\n  (pets, activeIdx) => pets.map((p, idx) => ({\r\n    name: p.name,\r\n    id: p.id,\r\n    isActive: idx === activeIdx\r\n  }))\r\n);\r\n\r\n\r\n\r\nexport default petStoreSlice.reducer;\r\n"],"sourceRoot":""}